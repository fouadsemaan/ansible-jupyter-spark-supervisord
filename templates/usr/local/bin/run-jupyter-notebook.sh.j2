#!/usr/bin/env bash

source activate {{jupyter_supervisord_name}}

{% for env_file in jupyter_supervisord_env_files|default([]) %}
source {{env_file}}
{% endfor %}

{% if jupyter_supervisord_pyspark %}
$SPARK_HOME/bin/pyspark
{% else %}
jupyter notebook \
  --config={{jupyter_supervisord_profile_py}} \
 	--Session.username={{jupyter_supervisord_username}} {% if jupyter_supervisord_notebook_dir is defined %} \
  --NotebookApp.notebook_dir={{jupyter_supervisord_notebook_dir}} {% endif %}
{% endif %}
